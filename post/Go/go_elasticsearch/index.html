<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    

    <title>Elasticsearch | 魏奇的博客</title>
    <meta property="og:title" content="Elasticsearch - 魏奇的博客">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2019-08-28T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2019-08-28T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="golang,go语言,go语言笔记,java,android,博客,项目管理,python,软件架构,公众号,小程序">
    <meta name="description" content="Elasticsearch">
        
    <meta name="author" content="魏奇">
    <meta property="og:url" content="https://www.imw7.com/post/Go/go_elasticsearch/">
    <link rel="shortcut icon" href='/favicon.ico'  type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
        <link href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" rel="stylesheet">
    
    
    
    
        <link rel="stylesheet" href='/css/douban.css'>
    
        <link rel="stylesheet" href='/css/other.css'>
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://www.imw7.com/">
                        魏奇的博客
                    </a>
                
                <p class="description">海阔凭鱼跃，天高任鸟飞</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://www.imw7.com/">首页</a>
                    
                    <a  href="https://www.imw7.com/archives/" title="归档">归档</a>
                    
                    <a  href="https://www.imw7.com/about/" title="关于">关于</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: absolute;
        top: 0;
        right: 0;
        width: 200px;
        margin-right: 0px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
        white-space: nowrap;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 45%;
        overflow-y: auto;
        overflow-x: hidden;
        float: right;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 18px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 12px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 8px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 10px;
        list-style: none;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul ul ul ul {
        margin-right: 10px;
        display: none;
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="top: 280px; right: 0px; float: right;">
    <h2 class="post-toc-title">文章目录</h2>
    <div class="post-toc-content">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#elasticsearch">Elasticsearch</a>
      <ul>
        <li><a href="#介绍">介绍</a></li>
        <li><a href="#elasticsearch能做什么">Elasticsearch能做什么</a></li>
        <li><a href="#elasticsearch基本概念">Elasticsearch基本概念</a></li>
        <li><a href="#elasticsearch--kibana-下载">Elasticsearch &amp; Kibana 下载</a></li>
      </ul>
    </li>
    <li><a href="#es-api">ES API</a>
      <ul>
        <li><a href="#查看健康状态">查看健康状态</a></li>
        <li><a href="#查询当前es集群中所有的indices">查询当前es集群中所有的indices</a></li>
        <li><a href="#创建索引">创建索引</a></li>
        <li><a href="#删除索引">删除索引</a></li>
        <li><a href="#插入记录">插入记录</a></li>
        <li><a href="#检索">检索</a></li>
      </ul>
    </li>
    <li><a href="#go操作elasticsearch">Go操作Elasticsearch</a>
      <ul>
        <li><a href="#elastic-client">elastic client</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var rightPos = window.screenX+$("#main").offset().left;
            if(rightPos<220){
                postToc.css({"width":rightPos+10,"margin-right":0})
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">Elasticsearch</h1>
        </header>
        <date class="post-meta meta-date">
            2019年8月28日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category"><a href='/categories/Go'>Go</a></span>
            
        </div>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">| 本文阅读量 <span id="busuanzi_value_page_pv"></span><span> 次</span></span>
                     
        </div>
        
        
        <div class="clear" style="display: none;">
            <div class="toc-article" style="float: right;">
                <div class="toc-title">文章目录</div>
            </div>
        </div>
        
        <div class="post-content">
            <p>本文简单介绍了ES、Kibana和Go语言操作ES。</p>
<h2 id="elasticsearch">Elasticsearch</h2>
<h3 id="介绍">介绍</h3>
<p>Elasticsearch（ES）是一个基于Lucene构建的开源、分布式、RESTful接口的全文搜索引擎。Elasticsearch还是一个分布式文档数据库，其中每个字段均可被索引，而且每个字段的数据均可被搜索，ES能够横向扩展至数以百计的服务器存储以及处理PB级的数据。可以在极短的时间内存储、搜索和分析大量的数据。通常作为具有复杂搜索场景情况下的核心发动机。</p>
<h3 id="elasticsearch能做什么">Elasticsearch能做什么</h3>
<ol>
<li>当你经营一家网上商店，你可以让你的客户搜索你卖的商品。在这种情况下，你可以使用ElasticSearch来存储你的整个产品目录和库存信息，为客户提供精准搜索，可以为客户推荐相关商品。</li>
<li>当你想收集日志或者交易数据的时候，需要分析和挖掘这些数据，寻找趋势，进行统计，总结，或发现异常。在这种情况下，你可以使用Logstash或者其他工具来进行收集数据，当这引起数据存储到ElasticsSearch中。你可以搜索和汇总这些数据，找到任何你感兴趣的信息。</li>
<li>对于程序员来说，比较有名的案例是GitHub，GitHub的搜索是基于ElasticSearch构建的，在github.com/search页面，你可以搜索项目、用户、issue、pull request，还有代码。共有40~50个索引库，分别用于索引网站需要跟踪的各种数据。虽然只索引项目的主分支（master），但这个数据量依然巨大，包括20亿个索引文档，30TB的索引文件。</li>
</ol>
<h3 id="elasticsearch基本概念">Elasticsearch基本概念</h3>
<h4 id="near-realtimenrt-几乎实时">Near Realtime(NRT) 几乎实时</h4>
<p>Elasticsearch是一个几乎实时的搜索平台。意思是，从索引一个文档到这个文档可被搜索只需要一点点的延迟，这个时间一般为毫秒级。</p>
<h4 id="cluster-集群">Cluster 集群</h4>
<p>群集是一个或多个节点（服务器）的集合， 这些节点共同保存整个数据，并在所有节点上提供联合索引和搜索功能。一个集群由一个唯一集群ID确定，并指定一个集群名（默认为“elasticsearch”）。该集群名非常重要，因为节点可以通过这个集群名加入群集，一个节点只能是群集的一部分。</p>
<p>确保在不同的环境中不要使用相同的群集名称，否则可能会导致连接错误的群集节点。例如，你可以使用logging-dev、logging-stage、logging-prod分别为开发、阶段产品、生产集群做记录。</p>
<h4 id="node节点">Node节点</h4>
<p>节点是单个服务器实例，它是群集的一部分，可以存储数据，并参与群集的索引和搜索功能。就像一个集群，节点的名称默认为一个随机的通用唯一标识符（UUID），确定在启动时分配给该节点。如果不希望默认，可以定义任何节点名。这个名字对管理很重要，目的是要确定你的网络服务器对应于你的ElasticSearch群集节点。</p>
<p>我们可以通过群集名配置节点以连接特定的群集。默认情况下，每个节点设置加入名为“elasticSearch”的集群。这意味着如果你启动多个节点在网络上，假设他们能发现彼此都会自动形成和加入一个名为“elasticsearch”的集群。</p>
<p>在单个群集中，你可以拥有尽可能多的节点。此外，如果“elasticsearch”在同一个网络中，没有其他节点正在运行，从单个节点的默认情况下会形成一个新的单节点名为”elasticsearch”的集群。</p>
<h4 id="index索引">Index索引</h4>
<p>索引是具有相似特性的文档集合。例如，可以为客户数据提供索引，为产品目录建立另一个索引，以及为订单数据建立另一个索引。索引由名称（必须全部为小写）标识，该名称用于在对其中的文档执行索引、搜索、更新和删除操作时引用索引。在单个群集中，你可以定义尽可能多的索引。</p>
<h4 id="type类型">Type类型</h4>
<p>在索引中，可以定义一个或多个类型。类型是索引的逻辑类别/分区，其语义完全取决于你。一般来说，类型定义为具有公共字段集的文档。例如，假设你运行一个博客平台，并将所有数据存储在一个索引中。在这个索引中，你可以为用户数据定义一种类型，为博客数据定义另一种类型，以及为注释数据定义另一类型。</p>
<h4 id="document文档">Document文档</h4>
<p>文档是可以被索引的信息的基本单位。例如，你可以为单个客户提供一个文档，单个产品提供另一个文档，以及单个订单提供另一个文档。本文件的表示形式为JSON（JavaScript Object Notation）格式，这是一种非常普遍的互联网数据交换格式。</p>
<p>在索引/类型中，你可以存储尽可能多的文档。请注意，尽管文档物理驻留在索引中，文档实际上必须索引或分配到索引中的类型。</p>
<h4 id="shards--replicas分片与副本">Shards &amp; Replicas分片与副本</h4>
<p>索引可以存储大量的数据，这些数据可能超过单个节点的硬件限制。例如，十亿个文件占用磁盘空间1TB的单指标可能不适合对单个节点的磁盘或可能太慢服务仅从单个节点的搜索请求。</p>
<p>为了解决这一问题，Elasticsearch提供细分你的指标分成多个块称为分片的能力。当你创建一个索引，你可以简单地定义你想要的分片数量。每个分片本身是一个全功能的、独立的“指数”，可以托管在集群中的任何节点。</p>
<p><strong>Shards分片的重要性主要体现在以下两个特征：</strong></p>
<ol>
<li>分片允许你水平拆分或缩放内容的大小</li>
<li>分片允许你分配和并行操作的碎片（可能在多个节点上）从而提高性能/吞吐量 这个机制中的碎片是分布式的以及其文件汇总到搜索请求是完全由ElasticSearch管理，对用户来说是透明的。</li>
</ol>
<p>在同一个集群网络或云环境上，故障是任何时候都会出现的，拥有一个故障转移机制以防分片和节点因为某些原因离线或消失是非常有用的，并且被强烈推荐。为此，Elasticsearch允许你创建一个或多个拷贝，你的索引分片进入所谓的副本或称作复制品的分片，简称Replicas。</p>
<p><strong>Replicas的重要性主要体现在以下两个特征：</strong></p>
<ol>
<li>副本为分片或节点失败提供了高可用性。为此，需要注意的是，一个副本的分片不会分配在同一个节点作为原始的或主分片，副本是从主分片那里复制过来的。</li>
<li>副本允许用户扩展你的搜索量或吞吐量，因为搜索可以在所有副本上并行执行。</li>
</ol>
<h4 id="es基本概念与关系型数据库的比较">ES基本概念与关系型数据库的比较</h4>
<table>
<thead>
<tr>
<th align="center">ES概念</th>
<th align="center">关系型数据库</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Index（索引）支持全文检索</td>
<td align="center">Database（数据库）</td>
</tr>
<tr>
<td align="center">Type（类型）</td>
<td align="center">Table（表）</td>
</tr>
<tr>
<td align="center">Document（文档），不同文档可以有不同的字段集合</td>
<td align="center">Row（数据行）</td>
</tr>
<tr>
<td align="center">Field（字段）</td>
<td align="center">Column（数据列）</td>
</tr>
<tr>
<td align="center">Mapping（映射）</td>
<td align="center">Schema（模式）</td>
</tr>
</tbody>
</table>
<h3 id="elasticsearch--kibana-下载">Elasticsearch &amp; Kibana 下载</h3>
<p>国内下载缓慢，幸好有一个好用的国内镜像可以提供下载。</p>
<ul>
<li>Elasticsearch: <a href="https://mirrors.huaweicloud.com/elasticsearch/">https://mirrors.huaweicloud.com/elasticsearch/</a></li>
<li>Kibana: <a href="https://mirrors.huaweicloud.com/kibana/">https://mirrors.huaweicloud.com/kibana/</a></li>
</ul>
<p>选择相应版本下载，两个软件的版本必须一致。解压后即可使用。</p>
<h2 id="es-api">ES API</h2>
<p>以下示例使用<code>curl</code>演示。</p>
<p><strong>注意</strong>：<code>zsh</code>可能不兼容<code>curl</code>命令，出现<code>no matches found</code>错误。</p>
<p><strong>解决办法</strong>：在 <code>~/.zshrc</code> 末尾加入 <code>setopt no_nomatch</code> ，然后执行 <code>source .zshrc</code></p>
<h3 id="查看健康状态">查看健康状态</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -X GET 127.0.0.1:9200/_cat/health?v
</code></pre></td></tr></table>
</div>
</div><p>输出：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">epoch      timestamp cluster       status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent
1564726309 06:11:49  elasticsearch yellow          1         1      3   3    0    0        1             0                  -                 75.0%
</code></pre></td></tr></table>
</div>
</div><h3 id="查询当前es集群中所有的indices">查询当前es集群中所有的indices</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -X GET 127.0.0.1:9200/_cat/indices?v
</code></pre></td></tr></table>
</div>
</div><p>输出：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">health status index                uuid                   pri rep docs.count docs.deleted store.size pri.store.size
green  open   .kibana_task_manager LUo-IxjDQdWeAbR-SYuYvQ   1   0          2            0     45.5kb         45.5kb
green  open   .kibana_1            PLvyZV1bRDWex05xkOrNNg   1   0          4            1     23.9kb         23.9kb
yellow open   user                 o42mIpDeSgSWZ6eARWUfKw   1   1          0            0       283b           283b
</code></pre></td></tr></table>
</div>
</div><h3 id="创建索引">创建索引</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -X PUT 127.0.0.1:9200/www
</code></pre></td></tr></table>
</div>
</div><p>输出：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">{<span style="color:#666;font-style:italic">&#34;acknowledged&#34;</span>:true,<span style="color:#666;font-style:italic">&#34;shards_acknowledged&#34;</span>:true,<span style="color:#666;font-style:italic">&#34;index&#34;</span>:<span style="color:#666;font-style:italic">&#34;www&#34;</span>}
</code></pre></td></tr></table>
</div>
</div><h3 id="删除索引">删除索引</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -X DELETE 127.0.0.1:9200/www
</code></pre></td></tr></table>
</div>
</div><p>输出：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">{<span style="color:#666;font-style:italic">&#34;acknowledged&#34;</span>:true}
</code></pre></td></tr></table>
</div>
</div><h3 id="插入记录">插入记录</h3>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -H <span style="color:#666;font-style:italic">&#34;Content-Type:application/json&#34;</span> -X POST 127.0.0.1:9200/user/person -d <span style="color:#666;font-style:italic">&#39;
</span><span style="color:#666;font-style:italic">{
</span><span style="color:#666;font-style:italic">	&#34;name&#34;: &#34;dsb&#34;,
</span><span style="color:#666;font-style:italic">	&#34;age&#34;: 9000,
</span><span style="color:#666;font-style:italic">	&#34;married&#34;: true
</span><span style="color:#666;font-style:italic">}&#39;</span>
</code></pre></td></tr></table>
</div>
</div><p>输出：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">{
    <span style="color:#666;font-style:italic">&#34;_index&#34;</span>: <span style="color:#666;font-style:italic">&#34;user&#34;</span>,
    <span style="color:#666;font-style:italic">&#34;_type&#34;</span>: <span style="color:#666;font-style:italic">&#34;person&#34;</span>,
    <span style="color:#666;font-style:italic">&#34;_id&#34;</span>: <span style="color:#666;font-style:italic">&#34;MLcwUWwBvEa8j5UrLZj4&#34;</span>,
    <span style="color:#666;font-style:italic">&#34;_version&#34;</span>: 1,
    <span style="color:#666;font-style:italic">&#34;result&#34;</span>: <span style="color:#666;font-style:italic">&#34;created&#34;</span>,
    <span style="color:#666;font-style:italic">&#34;_shards&#34;</span>: {
        <span style="color:#666;font-style:italic">&#34;total&#34;</span>: 2,
        <span style="color:#666;font-style:italic">&#34;successful&#34;</span>: 1,
        <span style="color:#666;font-style:italic">&#34;failed&#34;</span>: 0
    },
    <span style="color:#666;font-style:italic">&#34;_seq_no&#34;</span>: 3,
    <span style="color:#666;font-style:italic">&#34;_primary_term&#34;</span>: 1
}
</code></pre></td></tr></table>
</div>
</div><p>也可以使用PUT方法，但是需要传入id</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -H <span style="color:#666;font-style:italic">&#34;Content-Type:application/json&#34;</span> -X PUT 127.0.0.1:9200/user/person/4 -d <span style="color:#666;font-style:italic">&#39;
</span><span style="color:#666;font-style:italic">{
</span><span style="color:#666;font-style:italic">	&#34;name&#34;: &#34;sb&#34;,
</span><span style="color:#666;font-style:italic">	&#34;age&#34;: 9,
</span><span style="color:#666;font-style:italic">	&#34;married&#34;: false
</span><span style="color:#666;font-style:italic">}&#39;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="检索">检索</h3>
<p>Elasticsearch的检索语法比较特别，使用GET方法携带JSON格式的查询条件。</p>
<p>全检索：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -X GET 127.0.0.1:9200/user/person/_search
</code></pre></td></tr></table>
</div>
</div><p>按条件检索：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -H <span style="color:#666;font-style:italic">&#34;Content-Type:application/json&#34;</span> -X PUT 127.0.0.1:9200/user/person/4 -d <span style="color:#666;font-style:italic">&#39;
</span><span style="color:#666;font-style:italic">{
</span><span style="color:#666;font-style:italic">	&#34;query&#34;:{
</span><span style="color:#666;font-style:italic">		&#34;match&#34;: {&#34;name&#34;: &#34;sb&#34;}
</span><span style="color:#666;font-style:italic">	}	
</span><span style="color:#666;font-style:italic">}&#39;</span>
</code></pre></td></tr></table>
</div>
</div><p>ElasticSearch默认一次最多返回10条结果，可以像下面的示例通过size字段来设置返回结果的数目。</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">curl -H <span style="color:#666;font-style:italic">&#34;Content-Type:application/json&#34;</span> -X PUT 127.0.0.1:9200/user/person/4 -d <span style="color:#666;font-style:italic">&#39;
</span><span style="color:#666;font-style:italic">{
</span><span style="color:#666;font-style:italic">	&#34;query&#34;:{
</span><span style="color:#666;font-style:italic">		&#34;match&#34;: {&#34;name&#34;: &#34;sb&#34;},
</span><span style="color:#666;font-style:italic">		&#34;size&#34;: 2
</span><span style="color:#666;font-style:italic">	}	
</span><span style="color:#666;font-style:italic">}&#39;</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="go操作elasticsearch">Go操作Elasticsearch</h2>
<h3 id="elastic-client">elastic client</h3>
<p>我们使用第三方库https://github.com/olivere/elastic来连接ES并进行操作。</p>
<p>注意下载与你的ES相同版本的client，例如我们这里使用的ES是7.12.1的版本，那么我们下载的client也要与之对应为<code>github.com/olivere/elastic/v7</code>。</p>
<p>使用<code>go.mod</code>来管理依赖：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">require github.com/olivere/elastic/v7 v7.0.24
</code></pre></td></tr></table>
</div>
</div><p>简单示例：</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="font-weight:bold">package</span> main

<span style="font-weight:bold">import</span> (
	<span style="color:#666;font-style:italic">&#34;context&#34;</span>
	<span style="color:#666;font-style:italic">&#34;fmt&#34;</span>
	<span style="color:#666;font-style:italic">&#34;github.com/olivere/elastic/v7&#34;</span>
)

<span style="color:#888;font-style:italic">// Elasticsearch demo
</span><span style="color:#888;font-style:italic"></span>
<span style="font-weight:bold;font-style:italic">type</span> Person <span style="font-weight:bold;font-style:italic">struct</span> {
	Name    <span style="font-weight:bold">string</span> <span style="color:#666;font-style:italic">`json:&#34;name&#34;`</span>
	Age     <span style="font-weight:bold">string</span> <span style="color:#666;font-style:italic">`json:&#34;age&#34;`</span>
	Married <span style="font-weight:bold">bool</span>   <span style="color:#666;font-style:italic">`json:&#34;married&#34;`</span>
}

<span style="font-weight:bold;font-style:italic">func</span> <span style="color:#666;font-weight:bold;font-style:italic">main</span>() {
	client, err := elastic.<span style="color:#666;font-weight:bold;font-style:italic">NewClient</span>(elastic.<span style="color:#666;font-weight:bold;font-style:italic">SetURL</span>(<span style="color:#666;font-style:italic">&#34;http://127.0.0.1:9200&#34;</span>))
	<span style="font-weight:bold">if</span> err != <span style="font-weight:bold">nil</span> {
		<span style="color:#888;font-style:italic">// Handle error
</span><span style="color:#888;font-style:italic"></span>		<span style="font-weight:bold;font-style:italic">panic</span>(err)
	}

	fmt.<span style="color:#666;font-weight:bold;font-style:italic">Println</span>(<span style="color:#666;font-style:italic">&#34;connect to es succeed.&#34;</span>)
	p1 := Person{
		Name:    <span style="color:#666;font-style:italic">&#34;eric&#34;</span>,
		Age:     <span style="color:#666;font-style:italic">&#34;22&#34;</span>,
		Married: <span style="font-weight:bold">false</span>,
	}
	put1, err := client.<span style="color:#666;font-weight:bold;font-style:italic">Index</span>().<span style="color:#666;font-weight:bold;font-style:italic">Index</span>(<span style="color:#666;font-style:italic">&#34;user&#34;</span>).<span style="color:#666;font-weight:bold;font-style:italic">BodyJson</span>(p1).<span style="color:#666;font-weight:bold;font-style:italic">Do</span>(context.<span style="color:#666;font-weight:bold;font-style:italic">Background</span>())
	<span style="font-weight:bold">if</span> err != <span style="font-weight:bold">nil</span> {
		<span style="color:#888;font-style:italic">// Handle error
</span><span style="color:#888;font-style:italic"></span>		<span style="font-weight:bold;font-style:italic">panic</span>(err)
	}
	fmt.<span style="color:#666;font-weight:bold;font-style:italic">Printf</span>(<span style="color:#666;font-style:italic">&#34;Indexed user %s to index %s, type %s\n&#34;</span>, put1.Id, put1.Index, put1.Type)
}
</code></pre></td></tr></table>
</div>
</div><p>更多使用详见文档：https://godoc.org/github.com/olivere/elastic</p>
        </div>

        


        

<div class="post-archive">
    <h2>请参阅</h2>
    <ul class="listing">
        
        <li><a href="/post/Go/go_template/">Go语言标准库之html/template</a></li>
        
        <li><a href="/post/Go/gin_quickstart/">gin框架介绍及使用</a></li>
        
        <li><a href="/post/Go/go_etcd/">Go操作etcd</a></li>
        
        <li><a href="/post/Go/go_kafka/">Go操作Kafka</a></li>
        
        <li><a href="/post/Go/log_agent/">日志收集项目</a></li>
        
    </ul>
</div>


        <div class="post-meta meta-tags">
            
            <ul class="clearfix">
                
                <li><a href='/tags/ES'>ES</a></li>
                
                <li><a href='/tags/Kibana'>Kibana</a></li>
                
            </ul>
            
        </div>
    </article>
    
    

    
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2022 <a href="https://www.imw7.com/">魏奇的博客 By 魏奇</a>
        
        | <a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn/">蜀ICP备2022000811号-1</a>
        
    </div>
    <br />
    <div>
        <div class="github-badge">
            <a href="https://gohugo.io/" target="_black" rel="nofollow"><span class="badge-subject">Powered by</span><span class="badge-value bg-blue">Hugo</span></a>
        </div>
        
        <div class="github-badge">
            <a href="https://github.com/flysnow-org/maupassant-hugo" target="_black"><span class="badge-subject">Theme</span><span class="badge-value bg-yellowgreen">Maupassant</span></a>
        </div>
    </div>
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




    <script src='/js/douban.js'></script>


                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://www.imw7.com/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://www.imw7.com/">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://www.imw7.com/post/mysql/" title="在CentOS7.x上安装MySQL8.0">在CentOS7.x上安装MySQL8.0</a>
    </li>
    
    <li>
        <a href="https://www.imw7.com/post/redis_on_centos/" title="CentOS与Redis">CentOS与Redis</a>
    </li>
    
    <li>
        <a href="https://www.imw7.com/post/ssh_upload_download/" title="ssh使用scp或rsync上传和下载文件">ssh使用scp或rsync上传和下载文件</a>
    </li>
    
    <li>
        <a href="https://www.imw7.com/post/http/" title="HTTP协议">HTTP协议</a>
    </li>
    
    <li>
        <a href="https://www.imw7.com/post/Go/project_struct/" title="一般项目的结构">一般项目的结构</a>
    </li>
    
    <li>
        <a href="https://www.imw7.com/post/Go/bcrypt/" title="密码加密">密码加密</a>
    </li>
    
    <li>
        <a href="https://www.imw7.com/post/Go/makefile/" title="为Go项目编写Makefile">为Go项目编写Makefile</a>
    </li>
    
    <li>
        <a href="https://www.imw7.com/post/Go/go_micro/" title="go-micro">go-micro</a>
    </li>
    
    <li>
        <a href="https://www.imw7.com/post/Go/grpc/" title="gRPC">gRPC</a>
    </li>
    
    <li>
        <a href="https://www.imw7.com/post/ubuntu_firefox_blibili/" title="Ubuntu下Firefox使用HTML5播放器看B站">Ubuntu下Firefox使用HTML5播放器看B站</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href='/categories/'>分类</a></h3>
<ul class="widget-list">
    
    <li><a href="https://www.imw7.com/categories/Docker/">Docker (1)</a></li>
    
    <li><a href="https://www.imw7.com/categories/Go/">Go (52)</a></li>
    
    <li><a href="https://www.imw7.com/categories/Hexo/">Hexo (1)</a></li>
    
    <li><a href="https://www.imw7.com/categories/git/">git (1)</a></li>
    
    <li><a href="https://www.imw7.com/categories/%E5%85%B6%E4%BB%96/">其他 (1)</a></li>
    
    <li><a href="https://www.imw7.com/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8/">服务器 (3)</a></li>
    
    <li><a href="https://www.imw7.com/categories/%E7%AE%97%E6%B3%95/">算法 (1)</a></li>
    
    <li><a href="https://www.imw7.com/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络 (1)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href='/tags/'>标签</a></h3>
<div class="tagcloud">
    
    <a href="https://www.imw7.com/tags/Bcrypt/">Bcrypt</a>
    
    <a href="https://www.imw7.com/tags/Cookie/">Cookie</a>
    
    <a href="https://www.imw7.com/tags/Docker/">Docker</a>
    
    <a href="https://www.imw7.com/tags/ES/">ES</a>
    
    <a href="https://www.imw7.com/tags/GMP/">GMP</a>
    
    <a href="https://www.imw7.com/tags/Hexo/">Hexo</a>
    
    <a href="https://www.imw7.com/tags/Kafka/">Kafka</a>
    
    <a href="https://www.imw7.com/tags/Kibana/">Kibana</a>
    
    <a href="https://www.imw7.com/tags/MongoDB/">MongoDB</a>
    
    <a href="https://www.imw7.com/tags/MySQL/">MySQL</a>
    
    <a href="https://www.imw7.com/tags/NSQ/">NSQ</a>
    
    <a href="https://www.imw7.com/tags/Redis/">Redis</a>
    
    <a href="https://www.imw7.com/tags/Session/">Session</a>
    
    <a href="https://www.imw7.com/tags/VS-Code/">VS Code</a>
    
    <a href="https://www.imw7.com/tags/Web%E5%BC%80%E5%8F%91/">Web开发</a>
    
    <a href="https://www.imw7.com/tags/centos/">centos</a>
    
    <a href="https://www.imw7.com/tags/channel/">channel</a>
    
    <a href="https://www.imw7.com/tags/context/">context</a>
    
    <a href="https://www.imw7.com/tags/etcd/">etcd</a>
    
    <a href="https://www.imw7.com/tags/flag/">flag</a>
    
    <a href="https://www.imw7.com/tags/fmt/">fmt</a>
    
    <a href="https://www.imw7.com/tags/gin/">gin</a>
    
    <a href="https://www.imw7.com/tags/git/">git</a>
    
    <a href="https://www.imw7.com/tags/go-micro/">go-micro</a>
    
    <a href="https://www.imw7.com/tags/go-module/">go module</a>
    
    <a href="https://www.imw7.com/tags/goroutine/">goroutine</a>
    
    <a href="https://www.imw7.com/tags/grpc/">grpc</a>
    
    <a href="https://www.imw7.com/tags/http/">http</a>
    
    <a href="https://www.imw7.com/tags/interface/">interface</a>
    
    <a href="https://www.imw7.com/tags/iota/">iota</a>
    
    <a href="https://www.imw7.com/tags/jwt/">jwt</a>
    
    <a href="https://www.imw7.com/tags/log/">log</a>
    
    <a href="https://www.imw7.com/tags/logrus/">logrus</a>
    
    <a href="https://www.imw7.com/tags/makefile/">makefile</a>
    
    <a href="https://www.imw7.com/tags/map/">map</a>
    
    <a href="https://www.imw7.com/tags/MySQL/">MySQL</a>
    
    <a href="https://www.imw7.com/tags/net/http/">net/http</a>
    
    <a href="https://www.imw7.com/tags/os.Args/">os.Args</a>
    
    <a href="https://www.imw7.com/tags/package/">package</a>
    
    <a href="https://www.imw7.com/tags/pprof/">pprof</a>
    
    <a href="https://www.imw7.com/tags/protobuf/">protobuf</a>
    
    <a href="https://www.imw7.com/tags/sarama/">sarama</a>
    
    <a href="https://www.imw7.com/tags/sqlx/">sqlx</a>
    
    <a href="https://www.imw7.com/tags/ssh/">ssh</a>
    
    <a href="https://www.imw7.com/tags/strconv/">strconv</a>
    
    <a href="https://www.imw7.com/tags/tailf/">tailf</a>
    
    <a href="https://www.imw7.com/tags/template/">template</a>
    
    <a href="https://www.imw7.com/tags/time/">time</a>
    
    <a href="https://www.imw7.com/tags/viper/">viper</a>
    
    <a href="https://www.imw7.com/tags/yilia/">yilia</a>
    
    <a href="https://www.imw7.com/tags/%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6/">上传文件</a>
    
    <a href="https://www.imw7.com/tags/%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86/">依赖管理</a>
    
    <a href="https://www.imw7.com/tags/%E5%87%BD%E6%95%B0/">函数</a>
    
    <a href="https://www.imw7.com/tags/%E5%88%87%E7%89%87/">切片</a>
    
    <a href="https://www.imw7.com/tags/%E5%8F%8D%E5%B0%84/">反射</a>
    
    <a href="https://www.imw7.com/tags/%E5%8F%98%E9%87%8F%E5%92%8C%E5%B8%B8%E9%87%8F/">变量和常量</a>
    
    <a href="https://www.imw7.com/tags/%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/">基本数据类型</a>
    
    <a href="https://www.imw7.com/tags/%E5%9F%BA%E7%A1%80/">基础</a>
    
    <a href="https://www.imw7.com/tags/%E5%AF%86%E7%A0%81%E5%8A%A0%E5%AF%86/">密码加密</a>
    
    <a href="https://www.imw7.com/tags/%E5%AF%BC%E5%85%A5%E6%9C%AC%E5%9C%B0%E5%8C%85/">导入本地包</a>
    
    <a href="https://www.imw7.com/tags/%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6%E5%92%8C%E7%BB%84%E4%BB%B6/">常用框架和组件</a>
    
    <a href="https://www.imw7.com/tags/%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6%E4%B8%8E%E6%8A%80%E5%B7%A7/">常用组件与技巧</a>
    
    <a href="https://www.imw7.com/tags/%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6%E5%92%8C%E6%8A%80%E5%B7%A7/">常用组件和技巧</a>
    
    <a href="https://www.imw7.com/tags/%E5%B9%B6%E5%8F%91/">并发</a>
    
    <a href="https://www.imw7.com/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/">开发环境准备</a>
    
    <a href="https://www.imw7.com/tags/%E5%BC%82%E6%88%96/">异或</a>
    
    <a href="https://www.imw7.com/tags/%E6%8C%87%E9%92%88/">指针</a>
    
    <a href="https://www.imw7.com/tags/%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95/">排序算法</a>
    
    <a href="https://www.imw7.com/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
    
    <a href="https://www.imw7.com/tags/%E6%95%B0%E7%BB%84/">数组</a>
    
    <a href="https://www.imw7.com/tags/%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/">文件操作</a>
    
    <a href="https://www.imw7.com/tags/%E6%A0%87%E5%87%86%E5%BA%93/">标准库</a>
    
    <a href="https://www.imw7.com/tags/%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6/">流程控制</a>
    
    <a href="https://www.imw7.com/tags/%E6%B5%8B%E8%AF%95/">测试</a>
    
    <a href="https://www.imw7.com/tags/%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80/">类型断言</a>
    
    <a href="https://www.imw7.com/tags/%E7%BB%93%E6%9E%84%E4%BD%93/">结构体</a>
    
    <a href="https://www.imw7.com/tags/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">网络编程</a>
    
    <a href="https://www.imw7.com/tags/%E8%B7%A8%E5%B9%B3%E5%8F%B0%E7%BC%96%E8%AF%91/">跨平台编译</a>
    
    <a href="https://www.imw7.com/tags/%E8%BF%90%E7%AE%97%E7%AC%A6/">运算符</a>
    
    <a href="https://www.imw7.com/tags/%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/">项目结构</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="https://www.imw7.com/" title="魏奇的博客">魏奇的博客</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://www.imw7.com/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>